(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"26d3":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("view-loading"):i("v-container",[i("v-row",[i("v-col",{attrs:{md:"4",sm:"12"}},[i("v-list",[i("v-subheader",[t._v("Settings")]),i("v-list-item-group",{attrs:{color:"primary"},model:{value:t.currSetting,callback:function(e){t.currSetting=e},expression:"currSetting"}},[i("v-list-item",[i("v-list-item-title",[t._v("Preferences")]),i("v-list-item-icon",[i("v-icon",[t._v("mdi-brush")])],1)],1),i("v-list-item",[i("v-list-item-title",[t._v("Tags")]),i("v-list-item-icon",[i("v-icon",[t._v("mdi-tag-outline")])],1)],1),i("v-list-item",[i("v-list-item-title",[t._v("Account")]),i("v-list-item-icon",[i("v-icon",[t._v("mdi-account-circle")])],1)],1)],1)],1)],1),i("v-col",{attrs:{md:"8",sm:"12"}},[i(t.pages[t.currSetting],{tag:"component"})],1)],1)],1)},a=[],o=(i("96cf"),i("1da1")),s=i("a6f4"),r=i("cf0c"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("view-loading"):i("v-container",[i("v-list",[i("v-subheader",[t._v("Tags")]),i("v-list-item-group",{model:{value:t.tagItem,callback:function(e){t.tagItem=e},expression:"tagItem"}},t._l(t.tags,(function(e){return i("v-list-item",{key:e.id},[i("v-list-item-content",[t.editing.id!=e.id?i("v-list-item-title",[t._v(t._s(e.name))]):i("v-text-field",{attrs:{rules:[function(t){return!!t||"Can't be empty!"},function(e){return e&&e.length<=t.nameLimit||"Too long"}],autofocus:"",flat:"","background-color":"transparent","hide-details":"auto",solo:""},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.edit(e.id)}},model:{value:t.editing.text,callback:function(e){t.$set(t.editing,"text",e)},expression:"editing.text"}})],1),i("v-list-item-action",{staticClass:"mr-4"},[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.edit(e.id)}}},[i("v-icon",[t._v(" "+t._s(t.editing.id==e.id?"mdi-check":"mdi-pencil-outline")+" ")])],1)],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(e){t.chooseColor=!0}}},[i("v-icon",{attrs:{color:t.colors[e.color]+" lighten-3"}},[t._v(" mdi-format-color-fill ")])],1)],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(e){t.deleteTag=!0}}},[i("v-icon",[t._v(" mdi-close ")])],1)],1)],1)})),1)],1),i("v-dialog",{attrs:{"max-width":"300"},model:{value:t.chooseColor,callback:function(e){t.chooseColor=e},expression:"chooseColor"}},[i("v-card",[i("v-card-title",[t._v("Choose color")]),i("v-card-text",t._l(t.colors,(function(e,n){return i("v-btn",{key:e,attrs:{icon:""},on:{click:function(e){return t.setCurrentColor(n)}}},[i("v-icon",{attrs:{color:e}},[t._v(" mdi-square-rounded ")])],1)})),1)],1)],1),i("v-dialog",{attrs:{"max-width":"300"},model:{value:t.deleteTag,callback:function(e){t.deleteTag=e},expression:"deleteTag"}},[i("v-card",{staticClass:"pa-3"},[i("v-card-title",[t._v("Delete Tag")]),i("v-card-text",{staticClass:"pt-1",staticStyle:{color:"#505050"}},[t._v(" Are you sure you want to delete the tag "),i("strong",[t._v('"'+t._s(t.tagName)+'"')]),t._v(" "),i("br"),i("br"),i("strong",[t._v("Note:")]),t._v(" This will delete all disruption data associated with this tag as well. ")]),i("v-card-actions",[i("v-btn",{attrs:{color:"error"},on:{click:t.deleteCurrentTag}},[t._v(" Delete ")]),i("v-spacer"),i("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.deleteTag=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)},l=[],u=(i("4de4"),i("7db0"),i("c975"),i("45fc"),i("b0c0"),i("315f")),d=i("6885"),h=i("dad5"),v=i("26f7"),f=Object(s["c"])({name:"TagSettings",components:{ViewLoading:d["a"]},setup:function(){var t=Object(u["a"])(),e=t.tags,i=t.loadTags,n=Object(s["g"])(!0),a=Object(s["g"])(!1),r=Object(s["g"])(!1),c=Object(s["g"])(null),l=Object(s["a"])((function(){var t;return null===(t=e.value[c.value])||void 0===t?void 0:t.name})),d=Object(s["f"])({id:null,text:null});function f(t){if(d.id){var i=e.value.find((function(e){return e.id==t})),n=null===i||void 0===i?void 0:i.name;if(d.text.length>h["c"])return;if(d.text.length<1||d.text!=n&&e.value.some((function(t){return t.name==d.text})))return;if(Object(v["a"])("/user/tags",{method:"PATCH",body:JSON.stringify({tagId:t,name:d.text})}),null!=i){var a=e.value.indexOf(i);e.value[a].name=d.text,d.id=null,d.text=""}}else d.id=t}function g(t){Object(v["a"])("/user/tags",{method:"PATCH",body:JSON.stringify({tagId:e.value[c.value].id,color:t})}),e.value[c.value].color=t,a.value=!1}function m(){var t=e.value[c.value].id;Object(v["a"])("/user/tags",{method:"DELETE",body:JSON.stringify({tagId:t})}),r.value=!1,e.value=e.value.filter((function(e){return e.id!=t}))}return Object(s["i"])(c,(function(t,e){null==t&&(c.value=e)})),Object(s["d"])(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:n.value=!1;case 3:case"end":return t.stop()}}),t)})))),{loading:n,tags:e,colors:h["a"],chooseColor:a,setCurrentColor:g,tagItem:c,deleteTag:r,deleteCurrentTag:m,tagName:l,editing:d,edit:f,nameLimit:h["c"]}}}),g=f,m=i("2877"),p=i("6544"),b=i.n(p),C=i("8336"),k=i("b0af"),w=i("99d9"),O=i("a523"),V=i("169a"),_=i("132d"),j=i("8860"),S=i("da13"),x=i("1800"),y=i("5d23"),T=i("1baa"),L=i("2fa4"),A=i("e0c7"),I=i("8654"),E=Object(m["a"])(g,c,l,!1,null,null,null),D=E.exports;b()(E,{VBtn:C["a"],VCard:k["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VContainer:O["a"],VDialog:V["a"],VIcon:_["a"],VList:j["a"],VListItem:S["a"],VListItemAction:x["a"],VListItemContent:y["a"],VListItemGroup:T["a"],VListItemTitle:y["b"],VSpacer:L["a"],VSubheader:A["a"],VTextField:I["a"]});var $=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("h3",{staticClass:"font-weight-medium"},[t._v("Dark mode")]),i("v-switch",{attrs:{label:t.dark.label,disabled:""},on:{change:t.updateDarkMode},model:{value:t.dark.state,callback:function(e){t.$set(t.dark,"state",e)},expression:"dark.state"}}),i("h3",{staticClass:"font-weight-medium"},[t._v("Tick")]),i("v-switch",{attrs:{label:t.tickSound.label},on:{change:t.updateTickSound},model:{value:t.tickSound.state,callback:function(e){t.$set(t.tickSound,"state",e)},expression:"tickSound.state"}})],1)},X=[],Y=i("ade3"),P=Object(s["c"])({name:"Preferences",setup:function(){var t=Object(r["a"])(),e=t.settings,i=Object(s["f"])({state:e.dark,label:Object(s["a"])((function(){return i.state?"Dark":"Light"}))}),n=Object(s["f"])({state:e.tickSound,label:Object(s["a"])((function(){return n.state?"On":"Off"}))}),a=function(){c("dark",i.state),e.dark=i.state},o=function(){c("tickSound",n.state),e.tickSound=n.state},c=function(t,e){Object(v["a"])("/user/settings",{method:"PATCH",body:JSON.stringify(Object(Y["a"])({},t,e))})};return{dark:i,tickSound:n,updateDarkMode:a,updateTickSound:o}}}),R=P,B=(i("0481"),i("4069"),i("5530")),H=(i("ec29"),i("9d01"),i("d3b7"),i("25f0"),i("c37a")),M=i("5607"),N=i("2b0e"),J=N["a"].extend({name:"rippleable",directives:{ripple:M["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),F=i("8547"),z=i("58df");function K(t){t.preventDefault()}var G=Object(z["a"])(H["a"],J,F["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=H["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:K},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:K},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var n=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===n&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),q=i("c3f0"),Q=i("0789"),U=i("490a"),W=i("80d2"),Z=G.extend({name:"v-switch",directives:{Touch:q["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(B["a"])(Object(B["a"])({},H["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(B["a"])(Object(B["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(B["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(B["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(Q["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(U["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===W["s"].left&&this.isActive||t.keyCode===W["s"].right&&!this.isActive)&&this.onChange()}}}),tt=Object(m["a"])(R,$,X,!1,null,null,null),et=tt.exports;b()(tt,{VContainer:O["a"],VSwitch:Z});var it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("h3",{staticClass:"mb-5 font-weight-medium"},[t._v("Logout of your account")]),i("v-btn",{attrs:{color:"error"},on:{click:t.logout}},[t._v("Logout")])],1)},nt=[],at=(i("ac1f"),i("5319"),Object(s["c"])({name:"AccountSettings",setup:function(t,e){function i(){return n.apply(this,arguments)}function n(){return n=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["b"])("/logout",{method:"POST"});case 2:e.root.$router.replace("/login");case 3:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}return{logout:i}}})),ot=at,st=Object(m["a"])(ot,it,nt,!1,null,null,null),rt=st.exports;b()(st,{VBtn:C["a"],VContainer:O["a"]});var ct=Object(s["c"])({name:"Settings",components:{TagSettings:D,Preferences:et,AccountSettings:rt,ViewLoading:d["a"]},setup:function(){var t=Object(s["g"])(!0),e=Object(s["g"])(0),i=Object(r["a"])(),n=i.loadSettings;Object(s["i"])(e,(function(t,i){null==t&&(e.value=i)}));var a=["Preferences","TagSettings","AccountSettings"];return Object(s["d"])(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t.value=!1;case 3:case"end":return e.stop()}}),e)})))),{currSetting:e,pages:a,loading:t}}}),lt=ct,ut=i("62ad"),dt=i("34c3"),ht=i("0fd9"),vt=Object(m["a"])(lt,n,a,!1,null,null,null);e["default"]=vt.exports;b()(vt,{VCol:ut["a"],VContainer:O["a"],VIcon:_["a"],VList:j["a"],VListItem:S["a"],VListItemGroup:T["a"],VListItemIcon:dt["a"],VListItemTitle:y["b"],VRow:ht["a"],VSubheader:A["a"]})},6885:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-row",{staticClass:"text-center justify-center"},[i("v-col",[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey"}})],1)],1)],1)},a=[],o=i("a6f4"),s=Object(o["c"])({name:"ViewLoading",setup:function(){}}),r=s,c=i("2877"),l=i("6544"),u=i.n(l),d=i("62ad"),h=i("a523"),v=i("490a"),f=i("0fd9"),g=Object(c["a"])(r,n,a,!1,null,null,null);e["a"]=g.exports;u()(g,{VCol:d["a"],VContainer:h["a"],VProgressCircular:v["a"],VRow:f["a"]})},"9d01":function(t,e,i){},c3f0:function(t,e,i){"use strict";i("4160"),i("159b");var n=i("80d2"),a=function(t){var e=t.touchstartX,i=t.touchendX,n=t.touchstartY,a=t.touchendY,o=.5,s=16;t.offsetX=i-e,t.offsetY=a-n,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&i<e-s&&t.left(t),t.right&&i>e+s&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&a<n-s&&t.up(t),t.down&&a>n+s&&t.down(t))};function o(t,e){var i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))}function s(t,e){var i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),a(e)}function r(t,e){var i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))}function c(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return o(t,e)},touchend:function(t){return s(t,e)},touchmove:function(t){return r(t,e)}}}function l(t,e,i){var a=e.value,o=a.parent?t.parentElement:t,s=a.options||{passive:!0};if(o){var r=c(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[i.context._uid]=r,Object(n["t"])(r).forEach((function(t){o.addEventListener(t,r[t],s)}))}}function u(t,e,i){var a=e.value.parent?t.parentElement:t;if(a&&a._touchHandlers){var o=a._touchHandlers[i.context._uid];Object(n["t"])(o).forEach((function(t){a.removeEventListener(t,o[t])})),delete a._touchHandlers[i.context._uid]}}var d={inserted:l,unbind:u};e["a"]=d},ec29:function(t,e,i){}}]);
//# sourceMappingURL=settings.49061f5b.js.map